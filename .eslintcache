[{"G:\\ByteDance\\mini_toutiao_b_page\\src\\index.js":"1","G:\\ByteDance\\mini_toutiao_b_page\\src\\AuthorHome\\index.jsx":"2","G:\\ByteDance\\mini_toutiao_b_page\\src\\pages\\ArticleManage\\index.jsx":"3","G:\\ByteDance\\mini_toutiao_b_page\\src\\pages\\ArticleContent\\index.jsx":"4","G:\\ByteDance\\mini_toutiao_b_page\\src\\pages\\Register\\index.jsx":"5","G:\\ByteDance\\mini_toutiao_b_page\\src\\pages\\Write\\index.jsx":"6","G:\\ByteDance\\mini_toutiao_b_page\\src\\pages\\Edit\\index.jsx":"7"},{"size":568,"mtime":1612664369917,"results":"8","hashOfConfig":"9"},{"size":5093,"mtime":1612930936586,"results":"10","hashOfConfig":"9"},{"size":4073,"mtime":1612935764796,"results":"11","hashOfConfig":"9"},{"size":4938,"mtime":1612929943936,"results":"12","hashOfConfig":"9"},{"size":3597,"mtime":1612937020667,"results":"13","hashOfConfig":"9"},{"size":3137,"mtime":1612938118356,"results":"14","hashOfConfig":"9"},{"size":3525,"mtime":1612938491975,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"qgur2d",{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"22","messages":"23","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"24"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"G:\\ByteDance\\mini_toutiao_b_page\\src\\index.js",[],"G:\\ByteDance\\mini_toutiao_b_page\\src\\AuthorHome\\index.jsx",[],"G:\\ByteDance\\mini_toutiao_b_page\\src\\pages\\ArticleManage\\index.jsx",[],"G:\\ByteDance\\mini_toutiao_b_page\\src\\pages\\ArticleContent\\index.jsx",["31","32"],"import React, {Component,Fragment,createElement} from 'react';\r\nimport qs from 'querystring'\r\nimport {Tooltip} from \"antd\";\r\nimport {DislikeOutlined, LikeOutlined, DislikeFilled, LikeFilled} from '@ant-design/icons'\r\nimport axios from \"axios\";\r\nimport './index.css'\r\nvar likeFlag = -1\r\nvar dislikeFlag = -1\r\nvar count={\r\n    comment_count:null,\r\n    dislike_count:null,\r\n    upvote_count: null\r\n}\r\nclass ArticleContent extends Component {\r\n    state={\r\n        article_id:\"\",\r\n        article_title: \"\",\r\n        publish_user: \"\",\r\n        createdAt:\"\",\r\n        article_content:\"\",\r\n        action:null,\r\n    }\r\n    getCount=(article_id)=>{\r\n        axios.post(\"https://qcotvg.fn.thelarkcloud.com/statistics\",{_id:article_id}).then(\r\n            response=>{\r\n                console.log(response)\r\n                // eslint-disable-next-line no-unused-expressions\r\n                count.comment_count=response.data.result.comment_count,\r\n                count.dislike_count=response.data.result.dislike_count,\r\n                count.upvote_count=response.data.result.upvote_count\r\n            },\r\n            error=>{console.log(error)}\r\n        )\r\n    }\r\n    componentDidMount() {\r\n        const {search} = this.props.location\r\n        const contentData = qs.parse(search.slice(1))\r\n        console.log(contentData)\r\n        const {_id,article_title,publish_user,createdAt} = contentData\r\n        axios.post(\"https://qcotvg.fn.thelarkcloud.com/getContentsOfArticle\",{_id:_id}).then(\r\n            response=>{\r\n                console.log(response)\r\n                this.setState({\r\n                    article_id:_id,\r\n                    article_title: article_title,\r\n                    publish_user: publish_user,\r\n                    createdAt:createdAt,\r\n                    article_content:response.data.result\r\n                })\r\n            },\r\n            error=>{console.log(error)}\r\n        )\r\n        this.getCount(_id)\r\n    }\r\n    like = (event)=>{\r\n        if(this.state.action!=='liked'){\r\n            axios.post(\"https://qcotvg.fn.thelarkcloud.com/upvote\",{article_id:this.state.article_id}).then(\r\n                response=>{\r\n                    console.log(response)\r\n                    likeFlag = 1\r\n                    if (dislikeFlag===1){\r\n                        axios.post(\"https://qcotvg.fn.thelarkcloud.com/cancel_dislike\",{article_id:this.state.article_id}).then(\r\n                            response=>{console.log(response)},\r\n                            error=>{console.log(error)}\r\n                        )\r\n                    }\r\n                    dislikeFlag = 0\r\n                    this.getCount(this.state.article_id)\r\n                    this.setState({\r\n                        action:'liked'\r\n                    })\r\n                },\r\n                error=>{console.log(error)}\r\n            )\r\n        }\r\n    }\r\n    dislike = (event)=>{\r\n        if(this.state.action!=='disliked'){\r\n            axios.post(\"https://qcotvg.fn.thelarkcloud.com/dislike\",{article_id:this.state.article_id}).then(\r\n                response=>{\r\n                    console.log(response)\r\n                    dislikeFlag = 1\r\n                    if (likeFlag===1){\r\n                        axios.post(\"https://qcotvg.fn.thelarkcloud.com/cancel_upvote\",{article_id:this.state.article_id}).then(\r\n                            response=>{console.log(response)},\r\n                            error=>{console.log(error)}\r\n                        )\r\n                    }\r\n                    likeFlag = 0\r\n                    this.getCount(this.state.article_id)\r\n                    this.setState({\r\n                        action:'disliked'\r\n                    })\r\n                },\r\n                error=>{console.log(error)}\r\n            )\r\n        }\r\n\r\n    }\r\n    render() {\r\n        const {article_title, publish_user, createdAt, article_content,action,comment_count,dislike_count,upvote_count}=this.state\r\n        return (\r\n            <Fragment>\r\n                <h2 align=\"center\">{article_title}</h2>\r\n                <h5 align=\"center\">{publish_user+\"  \"+createdAt}</h5>\r\n                <p>{article_content}</p>\r\n                <Tooltip key=\"comment-basic-like\" title=\"赞\">\r\n                      <span onClick={this.like}>\r\n                        {createElement(action === 'liked' ? LikeFilled : LikeOutlined)}\r\n                          <span className=\"comment-action\">{upvote_count}</span>\r\n                      </span>\r\n                </Tooltip>\r\n                <Tooltip key=\"comment-basic-dislike\" title=\"踩\">\r\n                      <span onClick={this.dislike}>\r\n                        {React.createElement(action === 'disliked' ? DislikeFilled : DislikeOutlined)}\r\n                          <span className=\"comment-action\">{dislike_count}</span>\r\n                      </span>\r\n                </Tooltip>\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ArticleContent;","G:\\ByteDance\\mini_toutiao_b_page\\src\\pages\\Register\\index.jsx",[],"G:\\ByteDance\\mini_toutiao_b_page\\src\\pages\\Write\\index.jsx",[],"G:\\ByteDance\\mini_toutiao_b_page\\src\\pages\\Edit\\index.jsx",[],{"ruleId":"33","severity":1,"message":"34","line":28,"column":71,"nodeType":"35","messageId":"36","endLine":28,"endColumn":72},{"ruleId":"37","severity":1,"message":"38","line":101,"column":79,"nodeType":"39","messageId":"40","endLine":101,"endColumn":92},"no-sequences","Unexpected use of comma operator.","SequenceExpression","unexpectedCommaExpression","no-unused-vars","'comment_count' is assigned a value but never used.","Identifier","unusedVar"]